Bootstrap: docker
# From: centos:7
From: rockylinux:8

%labels
    AUTHOR day00096@umn.edu
    VERSION v0.5.1

%files

    ./workbench-2.0.0 /home/

%post

    # New way to install R on rocky8
    yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
    yum config-manager --set-enabled powertools


    yum install -y \
        cmake.x86_64 gcc gcc-c++ qt5-qtbase-devel.x86_64 \
        mesa-libGLU-devel.x86_64 gtk2-devel.x86_64 \
        openssl-devel bzip2-devel libffi-devel zlib-devel xz-devel

    cd /home/workbench-2.0.0
    mkdir build/
    cd build/
    cmake \
        -D CMAKE_BUILD_TYPE=Release -D WORKBENCH_MESA_DIR=/usr \
        -D WORKBENCH_USE_QT5=TRUE \
        ../src
    make